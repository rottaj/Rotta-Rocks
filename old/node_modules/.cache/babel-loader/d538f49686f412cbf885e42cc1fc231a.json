{"ast":null,"code":"var _jsxFileName = \"/Users/sm00th-swagger/personal-site/src/Components/MessageForm.js\";\nimport React from 'react';\nimport { Button, Form } from 'semantic-ui-react';\nimport socketIO from 'socket.io-client';\nimport MessageContainer from '../Containers/MessageContainer';\nconst io = socketIO('localhost:8080'); // Work in progress... provides real time messaging\n\nexport default class MessageForm extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      messages: []\n    };\n\n    this.sendMessage = e => {\n      console.log('sent message');\n      io.emit('message.new', {\n        messageContent: {\n          message: e.target[0].value,\n          userId: localStorage.userID\n        }\n      }, response => {\n        this.setState({\n          messages: [...this.state.messages, response]\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    io.on('get.messages', req => {\n      console.log(req.messageHistory, this.state.messages);\n      this.setState({\n        messages: [...this.state.messages, ...req.messageHistory]\n      });\n    });\n  }\n\n  /*\n  setValue = (e) => {\n      e.target[0].value = \"\"\n  }\n  */\n  render() {\n    console.log(this.state.messages);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(MessageContainer, {\n      messages: this.state.messages,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }), React.createElement(Form, {\n      onSubmit: e => this.sendMessage(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"Message: \"), React.createElement(\"textarea\", {\n      placeholder: \"scrubmuffin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    })), React.createElement(Button, {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Send Message\")));\n  }\n\n}","map":{"version":3,"sources":["/Users/sm00th-swagger/personal-site/src/Components/MessageForm.js"],"names":["React","Button","Form","socketIO","MessageContainer","io","MessageForm","Component","state","messages","sendMessage","e","console","log","emit","messageContent","message","target","value","userId","localStorage","userID","response","setState","componentDidMount","on","req","messageHistory","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,IAAjB,QAA6B,mBAA7B;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,OAAOC,gBAAP,MAA6B,gCAA7B;AAEA,MAAMC,EAAE,GAAGF,QAAQ,CAAC,gBAAD,CAAnB,C,CAEC;;AAED,eAAe,MAAMG,WAAN,SAA0BN,KAAK,CAACO,SAAhC,CAA0C;AAAA;AAAA;AAAA,SAErDC,KAFqD,GAE7C;AACJC,MAAAA,QAAQ,EAAE;AADN,KAF6C;;AAAA,SAarDC,WAbqD,GAatCC,CAAD,IAAO;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACAR,MAAAA,EAAE,CAACS,IAAH,CAAQ,aAAR,EAAuB;AAACC,QAAAA,cAAc,EAAE;AAACC,UAAAA,OAAO,EAAEL,CAAC,CAACM,MAAF,CAAS,CAAT,EAAYC,KAAtB;AAA6BC,UAAAA,MAAM,EAAEC,YAAY,CAACC;AAAlD;AAAjB,OAAvB,EAAoGC,QAAQ,IAAI;AAC5G,aAAKC,QAAL,CAAc;AAACd,UAAAA,QAAQ,EAAE,CAAC,GAAG,KAAKD,KAAL,CAAWC,QAAf,EAAyBa,QAAzB;AAAX,SAAd;AACH,OAFD;AAGH,KAlBoD;AAAA;;AAMrDE,EAAAA,iBAAiB,GAAG;AAChBnB,IAAAA,EAAE,CAACoB,EAAH,CAAM,cAAN,EAAuBC,GAAD,IAAS;AAC3Bd,MAAAA,OAAO,CAACC,GAAR,CAAYa,GAAG,CAACC,cAAhB,EAAgC,KAAKnB,KAAL,CAAWC,QAA3C;AACA,WAAKc,QAAL,CAAc;AAACd,QAAAA,QAAQ,EAAE,CAAC,GAAG,KAAKD,KAAL,CAAWC,QAAf,EAAyB,GAAGiB,GAAG,CAACC,cAAhC;AAAX,OAAd;AACH,KAHD;AAIH;;AASD;;;;;AAMAC,EAAAA,MAAM,GAAG;AACLhB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKL,KAAL,CAAWC,QAAvB;AACA,WACQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,gBAAD;AAAkB,MAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWC,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,IAAD;AAAM,MAAA,QAAQ,EAAEE,CAAC,IAAI,KAAKD,WAAL,CAAiBC,CAAjB,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAEI;AAAU,MAAA,WAAW,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,EAKI,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALJ,CAFJ,CADR;AAYH;;AAxCoD","sourcesContent":["import React from 'react'\nimport { Button, Form } from 'semantic-ui-react'\nimport socketIO from 'socket.io-client'\nimport MessageContainer from '../Containers/MessageContainer'\n\nconst io = socketIO('localhost:8080')\n\n // Work in progress... provides real time messaging\n\nexport default class MessageForm extends React.Component {\n\n    state = {\n        messages: []\n    }\n\n    componentDidMount() {\n        io.on('get.messages', (req) => {\n            console.log(req.messageHistory, this.state.messages)\n            this.setState({messages: [...this.state.messages, ...req.messageHistory]})\n        })\n    }\n\n    sendMessage = (e) => {\n        console.log('sent message')\n        io.emit('message.new', {messageContent: {message: e.target[0].value, userId: localStorage.userID}}, response => {\n            this.setState({messages: [...this.state.messages, response]})\n        })\n    }\n\n    /*\n    setValue = (e) => {\n        e.target[0].value = \"\"\n    }\n    */\n\n    render() {\n        console.log(this.state.messages)\n        return (\n                <div>\n                    <MessageContainer messages={this.state.messages}/>\n                    <Form onSubmit={e => this.sendMessage(e)}>\n                        <Form.Field>\n                            <label>Message: </label>\n                            <textarea placeholder=\"scrubmuffin\"></textarea>\n                        </Form.Field>\n                        <Button type='submit'>Send Message</Button>\n                    </Form>\n                </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}